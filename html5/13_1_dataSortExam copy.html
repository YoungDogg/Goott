<!DOCTYPE html>
<html>

<head>
    <title>data Sort : 데이터 정렬</title>
    <meta charset="utf-8">
    <script>
        window.onload = function () {
            function isDuplicate(tmp) { // 중복검사를 하는 곳
                console.log(randArr, tmp);
                let flag = false;
                // 중복인지 아닌지 검사를 함.
                // for (let i = 0; i < randArr.length; i++) {
                //     if (tmp == randArr[i]) { // 중복
                //         flag = true;
                //         break;
                //     }
                // }

                if ((randArr.indexOf(tmp)) != -1) {
                    flag = true;
                }

                // 중복이라면 true, 중복이 아니라면 false
                return flag;
            }

            let randArr = new Array(); // 빈 배열 생성(new : 객체를 생성하는 연산자)
            for (let i = 0; i < 10; i++) { // 10회 반복
                // 1 ~ 100 사이의 중복되지 않는 난수를 생성해 배열의 각 요소에 넣어줌
                let tmp = 0;
                do { // 중복된 수가 나오지 않을 때까지 계속 난수 생성
                    tmp = Math.floor(Math.random() * 100 + 1); // 난수 생성
                    console.log("호출하기 전 tmp : " + tmp);
                } while (isDuplicate(tmp));

                randArr[i] = tmp;
            }

            // console.log(randArr);

            let output = "<table border='1'>";
            let index = 0;
            for (let i = 0; i < 1; i++) {  //i = 0 1 2 3 4
                output += "<tr>";
                for (let j = 0; j < 10; j++) {
                    output += "<td id='" + randArr[index] + "' class='abc'>" + randArr[index++] + "</td>";
                }
                output += "</tr>";
            }
            output += "</table>";

            document.getElementById("output").innerHTML = output;

            
            //ㅂㅂ소트            
            //배열의 전체를 반복문으로 돌린다.
            for(let i = 0; i < randArr.length - 1; i++) {
                //그 안에서 첫째 배열 바로 다음 것으로 전체 배열을 다시 돌린다.
                for (let j = i + 1; j < randArr.length; j++) {
                    //만약 바로전 값이 현재값보다 크다면
                    if (randArr[i] > randArr[j]) {
                        // temp에 현재값을 집어넣고
                        let temp = randArr[j];
                        // 현재값엔 바로전 값을 집어넣고
                        randArr[j] = randArr[i];
                        //바로전값에는 현재의 값을 넣는다. -> 
                        randArr[i] = temp;
                    }
                }
            }

            let output2 = "<table border='1'>";
            
            for (let i = 0; i < 1; i++) {  //i = 0 1 2 3 4
                output2 += "<tr>";
                for (let j = 0; j < 10; j++) {
                    output2 += "<td id='" + randArr[j] + "' class='abc'>" + randArr[j] + "</td>";
                }
                output2 += "</tr>";
            }
            output2 += "</table>";

            document.getElementById("afterSorting").innerHTML = output2;
        };
    </script>
</head>

<body>
    <div id="output">

    </div>
    <hr />
    <h2>정렬 후</h2>
    <div id="afterSorting">

    </div>
    
</body>

</html>